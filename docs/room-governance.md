# 房间治理规范

## 一、房主踢人功能

### 1.1 权限规则

| 条件 | 结果 |
|------|------|
| 非房主执行 | 拒绝 |
| 游戏进行中 | 拒绝 |
| 踢自己 | 拒绝 |
| 其他 | 允许 |

### 1.2 协议事件

```typescript
// 客户端 → 服务端
ClientEvent.KICK_PLAYER = 'KICK_PLAYER'
interface KickPlayerPayload {
    targetPlayerId: string;
}

// 服务端 → 被踢玩家
ServerEvent.PLAYER_KICKED = 'PLAYER_KICKED'
{ reason: '您已被房主踢出房间' }
```

### 1.3 被踢玩家处理流程

1. 收到 `PLAYER_KICKED` 事件
2. 清除本地会话
3. 重置房间状态
4. 显示提示信息

## 二、房主转移规则

当房主离开房间时：
1. 检查房间是否还有其他玩家
2. 如果有，将房主身份转移给第一个加入的玩家
3. 如果没有，销毁房间

## 三、游戏进行中限制

游戏进行中不允许：
- 踢人
- 站起
- 主动离开（只能断开连接）

## 四、UI 规范

房主视角：
- 准备阶段显示"踢出"按钮
- 游戏进行中隐藏踢出功能

被踢玩家：
- 弹出明确提示："您已被房主踢出房间"
- 自动跳转至首页
